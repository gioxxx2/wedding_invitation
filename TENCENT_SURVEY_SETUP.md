# 腾讯问卷接入指南

## 功能说明

已集成腾讯问卷功能，用户提交表单后会自动跳转到腾讯问卷填写详细信息。这样可以：
- ✅ 解决微信浏览器中GitHub API调用失败的问题
- ✅ 使用专业的表单服务，数据统计更方便
- ✅ 支持数据导出和分析

## 设置步骤

### 1. 创建腾讯问卷

1. 访问腾讯问卷官网：https://wj.qq.com/
2. 登录您的账号（可以使用QQ或微信登录）
3. 点击"创建问卷" → 选择"空白问卷"
4. 添加以下字段：
   - **姓名**（单行文本，必填）
   - **电话**（单行文本，必填）
   - **参加人数**（单选题，必填）
   - **参加地点**（单选题：深圳/海口，必填）
   - **祝福语**（多行文本，选填）

### 2. 获取问卷链接

1. 在问卷编辑页面，点击右上角"发布"
2. 复制问卷链接，格式类似：`https://wj.qq.com/s2/1234567/ab3d/`
3. 其中 `1234567` 是问卷ID，`ab3d` 是问卷Hash

### 3. 配置到网站

1. 在网站的管理员区域（需要先设置GitHub Token才会显示）
2. 点击"⚙️ 设置腾讯问卷链接"按钮
3. 粘贴您复制的问卷链接
4. 点击确定保存

### 4. 测试

1. 填写表单并提交
2. 系统会先保存到本地（用于弹幕显示）
3. 然后自动跳转到腾讯问卷页面
4. 用户可以在腾讯问卷中填写详细信息

## 工作流程

```
用户填写表单
    ↓
保存到本地存储（用于弹幕）
    ↓
显示祝福语弹幕（如果有）
    ↓
跳转到腾讯问卷
    ↓
用户在腾讯问卷中填写详细信息
    ↓
数据保存到腾讯问卷后台
```

## 数据查看

### 在腾讯问卷中查看

1. 登录腾讯问卷后台
2. 找到您创建的问卷
3. 点击"数据统计"查看所有提交的数据
4. 可以导出为Excel或CSV格式

### 在网站中查看

1. 点击"📊 查看来宾信息"按钮
2. 可以查看本地保存的数据（用于弹幕显示）
3. 完整数据请到腾讯问卷后台查看

## 注意事项

1. **问卷链接格式**：必须以 `https://wj.qq.com/` 或 `http://wj.qq.com/` 开头
2. **数据同步**：表单提交后，数据会先保存到本地，然后跳转到腾讯问卷
3. **弹幕功能**：如果用户填写了祝福语，会立即显示弹幕，不受跳转影响
4. **微信兼容性**：腾讯问卷在微信浏览器中完全兼容，不会出现API调用失败的问题

## 优势

- ✅ **稳定性高**：使用腾讯官方服务，不会出现API调用失败
- ✅ **数据安全**：数据保存在腾讯服务器，安全可靠
- ✅ **功能丰富**：支持数据统计、导出、分析等功能
- ✅ **用户体验好**：专业的表单界面，填写体验更好

## 常见问题

### Q: 可以不跳转，直接嵌入问卷吗？
A: 腾讯问卷支持iframe嵌入，但需要配置跨域权限。建议使用跳转方式，更稳定可靠。

### Q: 数据会保存到哪里？
A: 数据会保存到两个地方：
1. 本地存储（用于弹幕显示和本地查看）
2. 腾讯问卷后台（完整数据，可导出）

### Q: 如果用户没有填写腾讯问卷怎么办？
A: 数据仍然会保存到本地存储，您可以在"查看来宾信息"页面查看。但建议引导用户完成腾讯问卷填写。

### Q: 可以同时使用GitHub保存和腾讯问卷吗？
A: 可以。如果设置了GitHub Token，数据会同时保存到GitHub和腾讯问卷。但建议主要使用腾讯问卷，因为它在微信中更稳定。

