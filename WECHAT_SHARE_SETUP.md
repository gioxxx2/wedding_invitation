# 微信分享配置指南

## 当前状态

您的网站已经配置了基本的微信分享标签（Open Graph），包括：
- ✅ `og:title` - 分享标题
- ✅ `og:description` - 分享描述
- ✅ `og:image` - 分享图片
- ✅ `og:url` - 分享链接

## 为什么只显示链接？

如果分享时只显示链接，可能的原因：

### 1. 图片URL无法访问（最常见）
- **检查**：图片URL必须是公网可访问的HTTPS链接
- **当前配置**：`https://wedding-1303923554.cos.ap-guangzhou.myqcloud.com/wedding_invitation/4.jpg`
- **解决方法**：
  1. 在浏览器中直接访问图片URL，确认可以打开
  2. 确保图片URL支持HTTPS
  3. 确保图片可以被微信服务器访问（不能是内网地址）

### 2. 图片格式或大小不符合要求
- **要求**：
  - 图片格式：JPG、PNG
  - 图片大小：建议 300x300 到 500x500 像素
  - 文件大小：建议小于 300KB
- **当前图片**：`4.jpg` 可能需要优化

### 3. 微信缓存问题
- 微信会缓存分享信息，首次分享可能需要等待
- **解决方法**：清除微信缓存或等待一段时间后重试

### 4. 域名未验证
- 如果使用自定义域名，需要在微信公众平台验证域名

## 是否需要接入微信开发者平台？

### 不需要接入的情况（推荐）
如果只是想让分享显示标题、描述和图片，**不需要**接入微信开发者平台。只需要：
1. ✅ 确保图片URL可访问（已配置）
2. ✅ 确保图片格式和大小符合要求
3. ✅ 等待微信缓存更新

### 需要接入的情况
只有在以下情况下才需要接入微信开发者平台：
- 需要自定义分享按钮
- 需要自定义分享标题和描述（动态内容）
- 需要分享到朋友圈时显示不同的内容
- 需要调用微信的其他高级功能（支付、定位等）

## 快速检查清单

### 1. 检查图片URL
```bash
# 在浏览器中访问，确认可以打开
https://wedding-1303923554.cos.ap-guangzhou.myqcloud.com/wedding_invitation/4.jpg
```

### 2. 检查图片大小
- 打开图片，查看尺寸
- 如果太大，需要压缩到 300x300 到 500x500 像素

### 3. 测试分享
1. 在微信中打开网站
2. 点击右上角"..."分享
3. 查看是否显示标题、描述和图片

### 4. 清除缓存
如果还是只显示链接：
1. 在微信中长按链接，选择"复制链接"
2. 在浏览器中打开链接
3. 查看页面源代码，确认 og: 标签正确
4. 等待 24 小时后重试（微信缓存更新）

## 优化建议

### 1. 优化分享图片
创建一个专门的分享图片（300x300 或 500x500 像素），包含：
- 新人姓名
- 婚礼日期
- 精美的设计

### 2. 优化分享标题和描述
当前配置：
```html
<meta property="og:title" content="我们的婚礼邀请函">
<meta property="og:description" content="诚挚邀请您参加我们的婚礼，见证我们人生中最重要的时刻">
```

可以改为更具体的：
```html
<meta property="og:title" content="谭雨薇 & 徐智 的婚礼邀请">
<meta property="og:description" content="2025年1月10日 深圳 | 2025年1月17日 海口，诚挚邀请您见证我们的幸福时刻">
```

### 3. 添加更多微信分享标签
```html
<!-- 微信分享专用标签 -->
<meta property="og:site_name" content="我们的婚礼邀请函">
<meta property="og:locale" content="zh_CN">
<meta name="twitter:card" content="summary_large_image">
```

## 如果仍然只显示链接

### 方案1：使用微信JS-SDK（需要接入）
1. 注册微信公众平台账号
2. 创建公众号（服务号或订阅号）
3. 在"设置与开发" → "公众号设置" → "功能设置"中配置JS接口安全域名
4. 使用微信JS-SDK自定义分享

**优点**：完全控制分享内容
**缺点**：需要注册公众号，配置较复杂

### 方案2：优化现有配置（推荐）
1. 确保图片URL可访问
2. 优化图片大小和格式
3. 等待微信缓存更新
4. 使用微信分享调试工具测试

## 微信分享调试工具

可以使用以下工具测试分享效果：
1. **微信公众平台分享调试**：https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=jsapisign
2. **在线OG标签检查工具**：https://www.opengraph.xyz/

## 总结

**对于您的婚礼邀请函项目，通常不需要接入微信开发者平台。**

只需要：
1. ✅ 确保图片URL可访问（已配置）
2. ✅ 优化图片大小（建议压缩到 500x500 像素）
3. ✅ 等待微信缓存更新（可能需要 24 小时）

如果图片URL可以正常访问，分享应该会显示标题、描述和图片，而不是只显示链接。

